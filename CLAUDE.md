# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

"The Year You Were Born" is a React web application that generates AI-powered nostalgic stories about any year from 1900 to present. Users enter a birth year, experience a time-travel animation, and receive a personalized story generated by Google Gemini AI.

## Development Commands

```bash
npm install          # Install dependencies
npm run dev          # Start dev server (port 3000)
npm run build        # Production build (outputs to dist/)
npm run preview      # Preview production build
```

## Environment Setup

Create `.env.local` with:
```
GEMINI_API_KEY=your_api_key_here
```

## Architecture

### Tech Stack
- React 19 + TypeScript
- Vite (build tool)
- Tailwind CSS (via CDN)
- Google Gemini AI (`@google/genai`)

### Application Flow

The app uses a 3-state finite state machine defined in `types.ts`:

1. **INPUT** (`IntroView.tsx`) - User enters 4-digit year (1900-present)
2. **TRAVELING** (`TimeWarp.tsx`) - Canvas star field animation plays while story generates
3. **STORY** (`StoryView.tsx`) - Displays story with typewriter effect

Key architectural pattern: Animation and API call run in parallel - story displays when both complete.

### Key Files

| File | Purpose |
|------|---------|
| `App.tsx` | State management hub, orchestrates component transitions |
| `types.ts` | TypeScript interfaces and AppState enum |
| `services/gemini.ts` | Gemini AI API integration |
| `components/IntroView.tsx` | Year input form with validation |
| `components/TimeWarp.tsx` | HTML5 Canvas animation (1000 particles, 4-sec duration) |
| `components/StoryView.tsx` | Story display with 30ms typing animation |

### Styling

Custom font classes defined in `index.html`:
- `.font-serif-display` → Cinzel
- `.font-mono-display` → Space Mono
- `.font-serif-playfair` → Playfair Display

Dark theme with black background and grayscale text.
